<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CREATE</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>


    <link href="css/estilos.css" rel="stylesheet">

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/catalogo.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Pacifico&display=swap"
        rel="stylesheet">

</head>

<body>

    <!-- Nuevo header de dos niveles  -->
    <header class="header-doble">
        <!-- Header superior con información de contacto, logo y carrito -->
        <div class="header-superior">
            <div class="container">
                <div class="header-superior-content">


                    <div class="logo-principal">
                        <img src="img/logo.jpg" alt="logo">
                        <span class="pacifico-regular">Mil Sabores</span>
                    </div>

                    <div class="usuario-carrito">
                        <button class="btn-usuario">
                            <i class="fa-solid fa-user"></i>
                        </button>

                    </div>
                </div>
            </div>
        </div>

        <!-- Header inferior con navegación y búsqueda -->
        <div class="header-inferior">
            <div class="container">
                <div class="header-inferior-content">
                    <nav class="navegacion-principal">
                        <ul>
                            <li><a href="index.html">INICIO</a></li>
                            <li><a href="catalogo.html" class="active">CATÁLOGO</a></li>
                            <li><a href="#">TORTAS ESPECIALES</a></li>
                            <li><a href="#">SIN AZÚCAR</a></li>
                            <li><a href="#">VEGANO</a></li>
                            <li><a href="#">BLOG</a></li>
                        </ul>
                    </nav>

                    <div class="busqueda-header">
                        <input type="text" placeholder="Buscar..." class="input-busqueda-header">
                        <button class="btn-buscar">
                            <i class="fa-solid fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menú móvil -->
        <button class="btn-menu-movil">
            <i class="fa-solid fa-bars"></i>
        </button>

        <div class="menu-movil">
            <div class="menu-movil-header">
                <span class="pacifico-regular">1000 Sabores</span>
                <button class="btn-cerrar-menu">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
            <nav class="navegacion-movil">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="catalogo.html">Catálogo</a></li>
                    <li><a href="#">Tortas Especiales</a></li>
                    <li><a href="#">Sin Azúcar</a></li>
                    <li><a href="#">Vegano</a></li>
                    <li><a href="#">Blog</a></li>
                </ul>
            </nav>
        </div>
    </header>





    <!--Card + formulario para la creacion de productos-->
    <div class="container mt-4">
        <h3>Nuevo producto</h3>

        <form>
            <div class="card mt-3 mb-3 shadow-sm">
                <div class="card-header">Información Producto</div>
                <div class="card-body">


                    <div class="mb-3">
                        <label for="id-producto" class="form-label required">ID</label>
                        <input type="text" id="id-producto" class="form-control" placeholder="001D" required>
                    </div>

                    <div class="mb-3">
                        <label for="nombre-producto" class="form-label required">Nombre</label>
                        <input type="text" class="form-control" id="nombre-producto" placeholder="Ej: Torta cuadrada">
                    </div>


                    <div class="mb-3">
                        <label for="categoria" class="form-label required">Categoría</label>
                        <select class="form-select" id="categoria">
                            <option selected disabled>Seleccione una categoría</option>
                            <option value="tortas-cuadradas">Tortas Cuadradas</option>
                            <option value="tortas-circulares">Tortas Circulares</option>
                            <option value="postres-individuales">Postres Individuales</option>
                            <option value="producto-sin-azucar">Productos Sin Azúcar</option>
                            <option value="pasteleria-tradicional">Pastelería Tradicional</option>
                            <option value="producto-sin-gluten">Productos Sin Gluten</option>
                            <option value="producto-vegana">Productos Vegana</option>
                            <option value="tortas-especiales">Tortas Especiales</option>
                            <option value="nueva">+ Nueva Categoría</option>
                        </select>
                    </div>

                    <!--Modal para la nueva categoría-->
                    <div class="modal fade" id="modalCategoria" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalCategoria">Nueva Categoría</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Cerrar"></button>
                                </div>

                                <div class="modal-body">
                                    <label for="idnuevaCategoria" class="form-label required">ID Categoría</label>
                                    <input type="text" id="idnuevaCategoria" class="form-control"
                                        placeholder="EJ: 001D">
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Cancelar</button>
                                    <button type="button" class="btn btn-primary" id="guardarCategoria">Guardar</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="mb-3">
                        <label for="descrip-producto" class="form-label">Descripción</label>
                        <textarea class="form-control" id="descrip-producto" rows="2"></textarea>
                    </div>

                    <div class="mb-3">
                        <label for="histo-producto" class="form-label">Historia</label>
                        <textarea class="form-control" id="histo-producto" rows="2"></textarea>
                    </div>

                    <div class="mb-3">
                        <label for="img-producto" class="form-label required">Imagen</label>
                        <input class="form-control" id="img-producto" type="file" accept="image/*">
                    </div>

                </div>
            </div>

            <div class="card mb-3 shadow-sm">
                <div class="card-header">Control de Stock y precios</div>
                <div class="card-body">

                    <div class="mb-3">
                        <label for="precio" class="form-label required">Precio</label>
                        <input type="number" id="precio" class="form-control" placeholder="1000" required>
                    </div>

                    <div class="mb-3">
                        <label for="descuento" class="form-label">Descuento</label>
                        <input type="number" id="descuento" class="form-control" placeholder="1000">
                    </div>

                    <div class="mb-3">
                        <label for="stock" class="form-label required">Stock</label>
                        <input type="number" id="stock" class="form-control" placeholder="100" required>
                    </div>

                    <div class="mb-3">
                        <label for="estado" class="form-label required">Estado</label>
                        <select class="form-select" id="estado">
                            <option selected disabled>Seleccione Estado producto</option>
                            <option value="activo">Activo</option>
                            <option value="inactivo">Inactivo</option>
                        </select>
                    </div>
                </div>

            </div>

            <button type="submit" class="btn button-submit">Guardar</button>

        </form>
    </div>


</body>

</html>

<script>
    const categoriaSelect = document.getElementById("categoria");
    const modal = new bootstrap.Modal(document.getElementById("modalCategoria"));
    const guardarBtn = document.getElementById("guardarCategoria");

    // Abrir modal si se selecciona "nueva"
    categoriaSelect.addEventListener("change", function () {
        if (this.value === "nueva") {
            modal.show();
        }
    });

    // Guardar nueva categoría
    guardarBtn.addEventListener("click", function () {
        const nuevaCategoria = document.getElementById("nuevaCategoria").value.trim();
        if (nuevaCategoria !== "") {
            // Crear nueva opción
            const option = document.createElement("option");
            option.value = nuevaCategoria.toLowerCase().replace(/\s+/g, "-");
            option.textContent = nuevaCategoria;

            // Insertar antes de "nueva"
            categoriaSelect.insertBefore(option, categoriaSelect.querySelector("option[value='nueva']"));

            // Seleccionar la nueva categoría
            categoriaSelect.value = option.value;

            // Cerrar modal y limpiar input
            modal.hide();
            document.getElementById("nuevaCategoria").value = "";
        }
    });
</script>